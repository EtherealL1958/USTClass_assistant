{% extends 'layout.html' %}

{% block content %}
<div style="margin: 10px;">
    <a href="/depart/add/" class="btn btn-success">
        <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
        添加设备
    </a>
</div>

<div class="bs-example" data-example-id="panel-without-body-with-table">
    <div class="panel panel-default">
        <!-- Default panel contents -->
        <div class="panel-heading">
            <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
            设备一览
        </div>
        <!-- Table -->
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>设备ID</th>
                    <th>设备名</th>
                    <th>设备类型</th>
                </tr>
            </thead>
            <tbody>
                {% for obj in queryset %}
                <tr>
                    <th scope="row">{{ obj.id }}</th>
                    <td>{{ obj.name }}</td>
                    <td>{{ obj.type }}</td>
                    <td>
                        <a class="btn btn-primary btn-xs" href="">编辑</a>

                        <script>
                            function DeleteConfirm(){
                                var result = confirm("是否删除？");
                                if (result){
                                    window.location.href = "/device/{{ obj.id }}/delete/"
                                }
                            }
                        </script>

                        <a class="btn btn-danger btn-xs" onclick="DeleteConfirm()">删除</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}